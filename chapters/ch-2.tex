\chapter{Sensor Networks Background} 
\label{cha:Sensor Networks/Data Aggregation/Security Background}
	
	Sensor networks are becoming ubiquitous in our day to day life. 
	Collectively, they are known also known as Internet of Things or Ubiquitous Computing.
	A vision of a world in which computing power and digital communications are extremely inexpensive commodities, so cheap that they are embedded in all the everyday objects that surround us \cite{2002-Stajano-ubiquitous}.
	
	In this chapter we introduce sensor networks and its applications, we define basic terminologies and then we discuss major 
	barriers to achieve security in the area of sensor networks.
	 % and solutions to tackle those challenges.

\section{Applications}
	In sensor networks, thousands of sensor nodes may interact with the physical world and collectively monitor an area, generating a large amount of data to be transmitted and reasoned about.
	With the recent advances in hardware technologies of sensors, we can use tiny and cheap sensor nodes to obtain a lot of useful information about physical world.
	For example, we can use them to discover temperature, humidity, water quality, lightning condition, pressure, noise level, carbon dioxide level, oxygen level, soil moisture, magnetic field, characteristics of objects such as speed, direction, and size, the presence or absence of certain kinds of objects, and all kinds of values about machinery like mechanical stress level or movement \cite{hof2007applications}.
	These versatile types of sensors, allow us to use sensor network in a wide variety of scenarios.
	For example, sensor networks are used in habitat and environment monitoring, health care, military surveillance, industrial machinery surveillance, home automation, scientific data collection, emergency fire alarm systems, traffic monitoring, wildfire tracking, wildlife monitoring and many other applications.
	
	\begin{description}
		\item[Military Application]
			Sensor networks can be used for enemy tracking, battlefield surveillance or target classification \cite{li2002detection}.
			For example, \textit{Palo Alto Research Center} tries to spot ``interesting'' vehicles (the vehicles marked specially) using motes equipped with microphones or steerable cameras \cite{chu2004distributed}.
			The objective is to coordinate a number of this kind of sensors in order to keep sensing the track of a chosen moving object minimizing any information gaps about the track that may occur.

		\item[Environmental Monitoring] 
			Sensor networks can be used to monitor a geographical location. 
			For example, \textit{Meteorology and Hydrology in Yosemite National Park} \cite{lundquist2003meteorology}, a sensor network was deployed to monitor the water system across and within the Sierra Nevada, especially regarding natural climate fluctuation, global warming, and the growing needs of water consumers.
			Research of the water system in the Sierra Nevada is difficult, because of its geographical structure.
			Sensor networks can be very useful in such situations as they can operate with little or no human intervention.
		
		\item[Health Care]
			Sensors can be used to monitor the patients around the clock. 
			They can report various statistics to the doctors and nurses regarding patients health.
			Also, it can send reminders to them to take care of the patient periodically. 	
			The most important criteria for the such networks are security and reliability.
			Because based on the sensor readings, doctors decide what treatment or what medicine to prescribe to the patients.
			If those readings are modified by an adversary then the consequences might be lethal to the patients.

		\item[Sustainable Mobility]
			Sensor networks can be used to build digitally connected and coordinated vehicles.
			With the driver less cars from companies like Google, autonomous vehicle systems seems the future of transportation.
			Autonomous vehicle systems \cite{benenson2008towards} describes how various various technologies in addition to the sensor networks is used in making the sustainable mobility.
		
		\item[The Active Floor]
			is a system which can detect person walking on the floor using pressure sensors \cite{addlesee1997orl}.
			It also allows to extract information from the raw sensor data which has reasonable success in identifying people based on their gait.
			Authors used Hidden Markov Models based analysis techniques originally developed for speech and face recognition to identify people.
		
		\item[CodeBlue]
			is a system to enhance emergency medical care with the goal to have a seamless patient transfer between a disaster area and a hospital\cite{lorincz2004sensor}.
	\end{description}
	
	The applications of the sensor networks are enormous. 
	The application of a sensor network determines the design of the sensor nodes, the network protocol and security architecture.
	As far as we know, there is no general architecture for such design.
	Therefore, developing a protocol for sensor networks can certainly be challenging. 

\section{Sensor Node Architecture}
	Sensor networks consists of an individual sensor node and the construction of each node depends on the application.
	The major components of the sensor nodes are shown in Figure \ref{fig:sensor-node-architecture} \cite{karl2007protocols}.
	\begin{figure}[h!]
		\centering
		\includegraphics[scale = 1]{images/sensor-node-architecture.png}
		\caption{Sensor Node Architecture}
		\label{fig:sensor-node-architecture}
	\end{figure}

	\begin{description}
	\item[Controller] is the Central Processing Unit (CPU) of the node.
		It collects data from the sensors, processes this data, decides when and where to send it, receives data from other sensor nodes, and decides on the actuator’s behavior.
		It executes various programs, ranging from time-critical signal processing and communication protocols to application programs.
	
	\item[Communication Device] is used to exchange data between individual nodes at radio frequency.
		Radio Frequency (RF)-based communication is widely used in sensor networks as it best fits the requirements of numerous applications.
		It provides relatively long range and high data rates, acceptable error rates at reasonable energy expenditure, and does not require line of sight between sender and receiver.
		Both a transmitter and a receiver are required in a sensor node. 
		The essential task for the devices is to convert a bit stream coming from a microcontroller (or a sequence of bytes or frames) and convert them to and from radio waves. 
		It is convenient to use a device that combines these two tasks in a single entity, called transceivers. 
		Usually, half-duplex operation is realized since transmitting and receiving at the same time on a wireless medium is impractical in most cases.

	\item[Sensors] can be roughly categorized into three categories.
		\textit{Passive, omnidirectional sensors} can measure a physical quantity at the point of the sensor node without actually manipulating the environment by active probing in this sense, they are passive. 
		Moreover, some of these sensors actually are self-powered in the sense that they obtain the energy they need from the environment – energy is only needed to amplify their analog signal. 
		There is no notion of ``direction'' involved in these measurements.
		Typical examples for such sensors include thermometer, light sensors, vibration, microphones, humidity, mechanical stress or tension in materials, chemical sensors sensitive for given substances, smoke detectors, air pressure, and so on.
		\textit{Passive, narrow-beam sensors} are passive as well, but have a well-defined notion of direction of measurement. 
		A typical example is a camera, which can ``take measurements'' in a given direction, but has to be rotated if need be.
		\textit{Active sensors} are the last group of sensors actively probes the environment, for example, a sonar or radar sensor or some types of seismic sensors, which generate shock waves by small explosions.
		These are quite specific – triggering an explosion is certainly not a lightly undertaken action – and require quite special attention.

	\item[Power supply of sensor nodes] is a crucial system component which has two main aspects.
		First, storing energy and providing power in the required form; second, attempting to replenish consumed energy by ``scavenging'' it from some node-external power source over time.
		Storing power is conventionally done using batteries, the normal AA battery stores about 2.2–2.5 Ah at 1.5 V.
		To ensure truly long-lasting nodes and wireless sensor networks, such a limited energy store is unreliable. 
		We can use energy from a node’s environment ``energy scavenging''.
		For example, \textit{Vibrations} is almost pervasive form of mechanical energy: walls or windows in buildings are resonating with cars or trucks passing in the streets, machinery often has low frequency vibrations, ventilations also cause it, and so on.
		The available energy depends on both amplitude and frequency of the vibration.
		\textit{Pressure variations} is similar to vibrations, a variation of pressure can also be used as a power source. 
		Such piezoelectric generators are in fact used already. 
		One well-known example is the inclusion of a piezoelectric generator in the heel of a shoe, to generate power as a human walks about \cite{shenck2001energy}. 
		This device can produce, on average, 330 $\mu W / cm^{2}$. 
		\textit{Photovoltaics} effect is used in the solar cells can be used to power sensor nodes.
		\textit{Temperature gradients} effect utilizing the differences in temperature can be directly converted to electrical energy.

	\item[The memory component] is fairly straightforward. 
		Random Access Memory (RAM) is used to store intermediate sensor readings, packets from other nodes, and so on. 
		While RAM is fast, its main disadvantage is that it loses its content if power supply is interrupted. 
		Program code can be stored in Read-Only Memory (ROM). 
		Correctly dimensioning memory sizes, especially RAM, can be crucial with respect to manufacturing costs and power consumption.
	\end{description}

\section{Energy Consumption}

	The sensor network's lifetime can be maximized by minimizing the power consumption of communication devices (or transreceiver ) of the sensor nodes.
	The transreceiver is responsible for all the wireless communications between nodes.
	To estimate the power consumption, we have to consider the communication and computation power consumption.
	The transreceiver's energy dissipation depends on two main parameters \cite{wang2002energy}.
	The first is $E_{elec} (J/b)$, the energy dissipated to run the transmit or receive electronics.
	The second is $\varepsilon_{amp} (J/m^2 b)$, the energy dissipated by the transmit power amplifier to achieve an acceptable signal to noise ratio $E_{b} / N_{o} $ at the receiver.
	We assume the $d^2$ energy loss for transmission between sensor nodes since the distances between sensors are relatively short \cite{ettus1998system}. 
	To transmit a $k$ - bit packet at distance $d$, the energy dissipated is:
	\begin{equation}
		E_{tx}(k, d) = E_{elec} \cdot k + \varepsilon_{amp} \cdot k \cdot d^{2}
	\end{equation}
	and to receive the k - bit packet, the radio expends
	\begin{equation}
		E_{rx}(k) = E_{elec} \cdot k
	\end{equation}
	For $\mu Amp$\ wireless sensor, $E_{elec} = 50nJ/b$\ and $\varepsilon_{amp} = 100pJ/m^2 b$.

	Transreceiver can be put into different states to save energy \cite{karl2007protocols}.
	It can be in either transmit or receive state and energy consumption of those states are describe above.
	It can be in Idle state where it is ready to receive packet but is not currently receiving anything.
	It can be in Sleep state where majority of the parts are switched off, and is not able to receive immediately. 
 	To sustain the sensor network for longer time all aspects of the sensor network should be efficient.
	For example, the networking algorithm for routing should be such that it minimizes the distance $d$\ between the nodes.
	The signal processing algorithm should be such that it process the networking packets with less computations.
	It is shown in \cite{wang2002energy} that by distributing the Fast Fourier Transform (FFT) algorithm in the network requires less communication between the sensor nodes.
	Also, for minimal energy dissipation, a processor should operate at the lowest voltage for a given clock frequency.

\section{Resource Constraints}
	\label{sec:aggregate-adversary}
	We introduce the parameters which should be taken into account while designing secure protocol for sensor networks.  
	These parameters can constrain the protocol designer's choices within the protocol.

	\subsection{Physical Limitations}
		Sensor nodes are often deployed in open, hostile and unattended environments, so they are vulnerable to physical tampering due to the lower physical security.
		An adversary can obtain the confidential information from a compromised sensor and reprogram it with malicious software.
		The compromised node may then report an arbitrary false sensor readings to its parent node in the tree hierarchy, making the sensor readings unreliable and irrelevant	.
		This attack becomes more damaging when multiple adversaries succeeds in injecting false data into the network which may cause catastrophic consequences \cite{wagner2007algorithms}.	

	\subsection{Hardware Limitations}
		As far as we know, one of the first hardware platform for developing sensor network application is MICA \cite{hill2002mica} developed by University of Berkeley.
		Another popular platform is Mote from Intel \cite{arazi2006self}.
		Due to lower manufacturing cost of sensor nodes, they have low speed processor, limited storage, a short range trans receiver.
		For example, the major specifications for the latest ZigBee chip supporting IEEE 802.15.4 standard, CC2538 from TexasInstruments are shown in Table \ref{table:soc}.
		This chip can do most of the security algorithms but has really little amount of memory storage. It has limited output power which constraints its transmission range which forces us to use multi-hop routing in the network as one node can not communicate with the node outside of its transmission range.
		These hardware limitations can constrain protocol designer's choice of algorithms for applications.  
		\begin{table}[!htb]	
			\begin{center}
				\begin{tabular}{ |l| l| }
					\hline
				     & CC2538 \\
				    \hline
				    Device Type & Wireless Micro controller \\
				    Frequency & 2.4GHz \\
				    Processor Integration & ARM Cortex-M3 \\
						Flash & Up to 512 KB \\
						RAM & Up to 32 KB \\
						Security & AES-128/256;ECC-128/256; SHA2; RSA \\
						RX Current & 20 (mA) \\
						Output Power & 7 (dBm) \\
						Data Rate(Max) & 250 kbps \\
						Type of Battery & AAA; AA; Rechargable(Li-ION) \\
				    \hline
				\end{tabular}
			\end{center}
			 \caption{System-on-Chip specifications for CC2538 from TexasInstruments implementing IEEE 802.15.4 standards}
			 \label{table:soc}
		\end{table}
	
	\subsection{Transmission Medium}
		In sensor networks, a group of sensor nodes ( or processors ) communicate over the radio (e.g., Bluetooth, WLAN).
		Traditionally, wireless mediums have issues due to synchronization, hidden station and expose station terminal problems, distributed arbitration, directional antennas, bandwidth limitations, higher error rate, security, scalability etcetera.
		For example, wireless networks have approximately $10^6$ times higher bit error rate (BER) than wired networks which causes frequent link loss and then path loss. 
		Hence, making unstable routing in the network.
		Higher BER creates higher collision rate in the network, generating higher overhead of retransmission and lowering the channel utilization and the throughput of the network.
		This kind of transmission medium with constrained resources makes it challenging to design the reliable networking protocol as we have to consider all the possible retransmissions.

	\subsection{Mobility}
		As we know, sensor nodes communicate via radio and the availability of the transmission medium changes over time due to link failure, bandwidth limitations or change in network topology.
		Nodes may be able to move, which further contributes to the instability of the communication link.
		The mobility issue makes difficult to do the routing in the network with the directional antennas in place.
		It also requires network to be agile enough to do the reconfiguration for the newer network topology.
		It impedes while doing the quality of service in the network. 
		
	All these parameters combined contributes to making strong assumptions on the network topology while designing the protocol for sensor networks.